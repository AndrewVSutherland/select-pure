!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SelectPure=t()}(this,function(){"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var t={value:"data-value",disabled:"data-disabled",class:"class"},n=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._node=e instanceof HTMLElement?e:document.createElement(e),this._config={i18n:i},this._setAttributes(t),t.textContent&&this._setTextContent(t.textContent),this}return e(n,[{key:"get",value:function(){return this._node}},{key:"append",value:function(e){return this._node.appendChild(e),this}},{key:"addClass",value:function(e){return this._node.classList.add(e),this}},{key:"removeClass",value:function(e){return this._node.classList.remove(e),this}},{key:"toggleClass",value:function(e){return this._node.classList.toggle(e),this}},{key:"addEventListener",value:function(e,t){return this._node.addEventListener(e,t),this}},{key:"removeEventListener",value:function(e,t){return this._node.removeEventListener(e,t),this}},{key:"setText",value:function(e){return this._setTextContent(e),this}},{key:"_onChange",value:function(){if(this._onChangeCallback){if("file"===this._node.type)return void this._onChangeCallback(this._node.files);this._onChangeCallback(this._node.value)}return this}},{key:"_setTextContent",value:function(e){this._node.textContent=e}},{key:"_setAttributes",value:function(e){for(var n in e)t[n]&&e[n]&&this._setAttribute(t[n],e[n])}},{key:"_setAttribute",value:function(e,t){this._node.setAttribute(e,t)}}]),n}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();return function(){function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=i({},s),this._state={opened:!1},this._boundHandleClick=this._handleClick.bind(this),this._body=new n(document.body),this._create(t),this._setValue()}return s(e,[{key:"_create",value:function(e){var t="string"==typeof e?document.querySelector(e):e;this._parent=new n(t),this._select=new n("div",{class:"select-pure__select"}),this._label=new n("span",{class:"select-pure__label"}),this._optionsWrapper=new n("div",{class:"select-pure__options"}),this._options=this._generateOptions(),this._select.addEventListener("click",this._boundHandleClick),this._select.append(this._label.get()),this._select.append(this._optionsWrapper.get()),this._parent.append(this._select.get())}},{key:"_generateOptions",value:function(){var e=this;return this._config.options.map(function(t){var i=new n("div",{class:"select-pure__option",value:t.value,textContent:t.label,disabled:t.disabled});return e._optionsWrapper.append(i.get()),i})}},{key:"_handleClick",value:function(e){if(e.stopPropagation(),this._state.opened){var t=this._options.find(function(t){return t.get()===e.target});return t&&this._setValue(t.get().getAttribute("data-value")),this._select.removeClass("select-pure__select--opened"),this._body.removeEventListener("click",this._boundHandleClick),this._select.addEventListener("click",this._boundHandleClick),void(this._state.opened=!1)}this._select.addClass("select-pure__select--opened"),this._body.addEventListener("click",this._boundHandleClick),this._select.removeEventListener("click",this._boundHandleClick),this._state.opened=!0}},{key:"_setValue",value:function(e){var t=this;e&&(this._config.value=e);var n=this._config.value?this._config.options.find(function(e){return e.value===t._config.value}):this._config.options[0],i=this._options.find(function(e){return e.get().getAttribute("data-value")===n.value});this._options.forEach(function(e){e.removeClass("select-pure__option--selected")}),i.addClass("select-pure__option--selected"),this._selectOption(n)}},{key:"_selectOption",value:function(e){this._selectedOption=e,this._label.setText(e.label)}}]),e}()});
